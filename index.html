<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYSTEM_ROOT // LINKYUW_CV</title>
    <style>
        :root {
            --bg-color: #050505;
            --matrix-green: #00FF41;
            --dim-green: #008F11;
            --alert-red: #FF0000;
            --header-bg: #00FF41;
            --font-main: 'Courier New', Courier, monospace;
            
            /* GBA Colors */
            --gba-purple: #5943a7;
            --gba-dark: #3a2a7a;
            --gba-screen-bg: #e0f8d0; /* Classic Gameboy Greenish tint or White */
            --gba-btn-grey: #a0a0a0;
        }

        * {
            box-sizing: border-box;
            border-radius: 0 !important; /* 粗野主义：拒绝圆角 */
        }

        /* GBA 专用样式例外：GBA机身需要圆角才像真的 */
        .gba-wrapper * {
            border-radius: initial !important;
        }

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            background-color: var(--bg-color);
            font-family: var(--font-main);
            color: var(--matrix-green);
            overflow: hidden;
        }

        /* === 背景层：降速的代码雨 === */
        #matrix-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.15; /* 稍微降低透明度以突出前景 GBA */
        }

        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                to bottom,
                rgba(255,255,255,0),
                rgba(255,255,255,0) 50%,
                rgba(0,0,0,0.2) 50%,
                rgba(0,0,0,0.2)
            );
            background-size: 100% 4px;
            z-index: 1;
            pointer-events: none;
        }

        /* === 主终端容器 === */
        .terminal-wrapper {
            position: absolute;
            z-index: 10;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 1200px;
            height: 90vh;
            border: 3px solid var(--matrix-green);
            background: rgba(0, 5, 0, 0.95);
            display: grid;
            grid-template-rows: auto 1fr auto;
            box-shadow: 10px 10px 0px rgba(0, 255, 65, 0.2);
        }

        /* === 顶部状态栏 === */
        .sys-header {
            background: var(--matrix-green);
            color: black;
            padding: 15px 20px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            text-transform: uppercase;
            border-bottom: 3px solid var(--matrix-green);
        }
        
        .sys-title { font-size: 1.5rem; letter-spacing: -1px; }
        .sys-status { font-size: 0.9rem; }

        /* === 布局主体 === */
        .main-interface {
            display: grid;
            grid-template-columns: 250px 1fr;
            overflow: hidden;
        }

        /* === 左侧导航 === */
        .nav-panel {
            border-right: 3px solid var(--matrix-green);
            padding: 20px 0;
            display: flex;
            flex-direction: column;
        }

        .nav-item {
            background: transparent;
            color: var(--matrix-green);
            border: none;
            border-bottom: 1px solid var(--dim-green);
            padding: 20px 25px;
            text-align: left;
            font-family: var(--font-main);
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
            text-transform: uppercase;
        }

        .nav-item:hover {
            background: rgba(0, 255, 65, 0.1);
            padding-left: 35px;
        }

        .nav-item.active {
            background: var(--matrix-green);
            color: black;
            padding-left: 35px;
        }

        .nav-item::before { content: "> "; }

        /* === 右侧内容视窗 === */
        .content-viewport {
            padding: 40px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--matrix-green) black;
        }

        .content-viewport::-webkit-scrollbar { width: 12px; }
        .content-viewport::-webkit-scrollbar-track { background: black; border-left: 1px solid var(--dim-green); }
        .content-viewport::-webkit-scrollbar-thumb { background: var(--matrix-green); border: 2px solid black; }

        h1 {
            font-size: 2.5rem;
            border-bottom: 5px solid var(--matrix-green);
            display: inline-block;
            margin-bottom: 30px;
            line-height: 1;
            padding-bottom: 5px;
        }

        h2 {
            color: var(--bg-color);
            background: var(--matrix-green);
            display: inline-block;
            padding: 5px 10px;
            margin-top: 40px;
            margin-bottom: 20px;
            font-size: 1.2rem;
            text-transform: uppercase;
        }

        p {
            line-height: 1.8;
            margin-bottom: 20px;
            max-width: 800px;
            font-size: 1.05rem;
        }

        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .data-card {
            border: 2px solid var(--dim-green);
            padding: 20px;
            transition: 0.2s;
        }

        .data-card:hover {
            border-color: var(--matrix-green);
            box-shadow: 5px 5px 0 var(--dim-green);
            transform: translate(-2px, -2px);
        }

        .tag {
            display: inline-block;
            border: 1px solid var(--matrix-green);
            padding: 2px 8px;
            font-size: 0.8rem;
            margin-right: 5px;
            margin-top: 10px;
        }

        .kernel-params {
            font-size: 0.9rem;
            border: 1px dashed var(--dim-green);
            padding: 15px;
            color: #ccc;
            font-family: monospace;
            margin-bottom: 30px;
            background: rgba(255,255,255,0.05);
        }

        .sys-footer {
            border-top: 3px solid var(--matrix-green);
            padding: 10px 20px;
            font-size: 0.8rem;
            text-align: right;
            background: #000;
        }

        /* === GBA CSS Art & Game === */
        .gba-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px 0;
        }

        .gba-body {
            width: 560px; /* GBA宽比例 */
            height: 360px;
            background-color: var(--gba-purple);
            border-radius: 40px 40px 60px 60px !important;
            position: relative;
            box-shadow: inset 0 -10px 0 rgba(0,0,0,0.2), 0 10px 20px rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            border: 2px solid #333;
        }

        /* 屏幕边框 */
        .gba-screen-cover {
            width: 360px;
            height: 280px;
            background-color: #333;
            margin-top: 20px;
            border-radius: 20px 20px 40px 40px !important;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.5);
        }
        
        .gba-logo {
            position: absolute;
            bottom: 15px;
            color: #aaa;
            font-family: sans-serif;
            font-style: italic;
            font-weight: bold;
            letter-spacing: 2px;
            font-size: 14px;
            pointer-events: none;
        }

        .gba-logo span { color: #d03060; } /* A in GBA style */

        /* 游戏屏幕 */
        .gba-screen {
            width: 290px;
            height: 190px;
            background-color: #fff;
            margin-bottom: 20px;
            overflow: hidden;
            position: relative;
            image-rendering: pixelated;
            border: 2px solid #000;
        }

        /* 左右按键区 */
        .gba-controls-left, .gba-controls-right {
            width: 100px;
            height: 100%;
            position: absolute;
            top: 0;
        }
        .gba-controls-left { left: 0; }
        .gba-controls-right { right: 0; }

        /* D-Pad */
        .d-pad {
            position: absolute;
            top: 120px;
            left: 25px;
            width: 70px;
            height: 70px;
        }
        .d-pad-h, .d-pad-v {
            background: #222;
            position: absolute;
            border-radius: 4px !important;
            box-shadow: 2px 2px 0 rgba(0,0,0,0.3);
        }
        .d-pad-h { width: 100%; height: 24px; top: 23px; left: 0; }
        .d-pad-v { width: 24px; height: 100%; top: 0; left: 23px; }

        /* A/B Buttons */
        .btn-action {
            width: 35px;
            height: 35px;
            background: #cfcfcf;
            border-radius: 50% !important;
            position: absolute;
            box-shadow: 2px 2px 0 rgba(0,0,0,0.3), inset 2px 2px 5px rgba(255,255,255,0.5);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: sans-serif;
            font-weight: bold;
            color: #555;
            font-size: 12px;
        }
        .btn-action:active {
            transform: translate(2px, 2px);
            box-shadow: inset 2px 2px 5px rgba(0,0,0,0.5);
        }
        .btn-a { top: 90px; right: 15px; background: #888; color: #fff; }
        .btn-b { top: 110px; right: 60px; background: #888; color: #fff; }

        /* Start/Select */
        .btn-meta {
            width: 40px;
            height: 10px;
            background: #888;
            border-radius: 10px !important;
            position: absolute;
            bottom: 30px;
            transform: rotate(-25deg);
            box-shadow: 1px 1px 0 rgba(0,0,0,0.3);
            cursor: pointer;
        }
        .btn-start { right: 25px; }
        .btn-select { right: 70px; }

        /* Game Interface */
        #battle-scene {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            background: linear-gradient(180deg, #f8f8f8 0%, #d0d0d0 100%);
            font-family: 'Courier New', Courier, monospace;
            font-size: 10px;
            color: #000;
        }

        .battle-stage {
            flex: 2;
            position: relative;
            background: url('https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/dream-world/1.svg'); /* Placeholder bg */
            background: #e0f8d0; /* Simple bg */
        }

        .sprite {
            position: absolute;
            width: 80px;
            height: 80px;
            image-rendering: pixelated;
        }

        /* Sprigatito (Enemy, Front) */
        #enemy-sprite {
            top: 15px;
            right: 30px;
            animation: float 3s infinite ease-in-out;
        }

        /* Litten (Player, Back) */
        #player-sprite {
            bottom: 0;
            left: 30px;
            width: 90px;
            height: 90px;
        }

        .hp-box {
            position: absolute;
            background: #fff;
            border: 2px solid #444;
            padding: 2px 5px;
            border-radius: 5px !important;
        }
        #enemy-hp-box { top: 10px; left: 10px; }
        #player-hp-box { bottom: 30px; right: 10px; }

        .hp-bar {
            width: 80px;
            height: 6px;
            background: #ddd;
            border: 1px solid #000;
            margin-top: 2px;
        }
        .hp-fill {
            height: 100%;
            background: #4caf50;
            width: 100%;
            transition: width 0.5s;
        }

        .dialog-box {
            flex: 1;
            background: #333;
            color: #fff;
            border-top: 2px solid #000;
            padding: 8px;
            font-size: 10px;
            display: flex;
            justify-content: space-between;
        }
        .dialog-text { width: 60%; line-height: 1.4; }
        .action-menu {
            width: 35%;
            background: #fff;
            color: #000;
            border: 1px solid #000;
            border-radius: 3px !important;
            padding: 2px;
            display: flex;
            flex-direction: column;
            cursor: pointer;
        }
        .menu-item { padding: 2px; }
        .menu-item:hover, .menu-item.selected { background: #ccc; }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        @keyframes shake {
            0% { transform: translate(0, 0); }
            20% { transform: translate(-5px, 0); }
            40% { transform: translate(5px, 0); }
            60% { transform: translate(-5px, 0); }
            80% { transform: translate(5px, 0); }
            100% { transform: translate(0, 0); }
        }

        @media (max-width: 768px) {
            .gba-body { transform: scale(0.6); transform-origin: top center; margin-bottom: -120px; }
            .main-interface { grid-template-rows: auto 1fr; }
        }
    </style>
</head>
<body>

    <!-- 背景层 -->
    <canvas id="matrix-canvas"></canvas>
    <div class="scanlines"></div>

    <!-- 主终端 -->
    <div class="terminal-wrapper">
        <div class="sys-header">
            <div class="sys-title">LINKYUW_TERMINAL_V2.1</div>
            <div class="sys-status">
                [MODE: INTERACTIVE]<br>
                [LOC: TAIWAN]
            </div>
        </div>

        <div class="main-interface">
            <nav class="nav-panel">
                <button class="nav-item active" onclick="switchTab('overview')">/OVERVIEW</button>
                <button class="nav-item" onclick="switchTab('research')">/RESEARCH</button>
                <button class="nav-item" onclick="switchTab('projects')">/PROJECTS</button>
                <button class="nav-item" onclick="switchTab('thoughts')">/THOUGHTS</button>
                <button class="nav-item" onclick="switchTab('fun')" style="color: var(--alert-red); border-bottom: 1px solid var(--alert-red);">/EXEC/FUN</button>
            </nav>

            <div class="content-viewport" id="content-area">
                
                <!-- 1. OVERVIEW -->
                <div id="overview" class="tab-content">
                    <h1>APPLICANT_PROFILE</h1>  
                    <div class="kernel-params">
                        &gt; HELLO WORLD...<br>
                        &gt; CORE_TRAITS_LOADING...<br>
                        &nbsp;&nbsp;[SENSITIVITY]: HIGH<br>
                        &nbsp;&nbsp;[BRAVERY]: ACTIVE<br>
                        &nbsp;&nbsp;[SINCERITY]: LOCKED<br>
                        &gt; STATUS: READY.
                    </div>
                    <p>你好，我是Linkyu。欢迎访问我的终端。</p>
                    <h2>EDUCATION</h2>
                    <div style="border-left: 4px solid var(--matrix-green); padding-left: 20px; margin-bottom: 20px;">
                        <strong style="font-size: 1.2rem;">[广东财经大学]</strong><br>
                        <span style="color: #ccc;">[数据科学与大数据技术]</span>
                    </div>
                </div>

                <!-- 2. RESEARCH -->
                <div id="research" class="tab-content" style="display: none;">
                    <h1>ACADEMIC_RESEARCH</h1>
                    <p>学术领域探索。</p>
                    <div class="data-card">
                        <h3>PAPER_01: 图像识别优化</h3>
                        <div class="tag">PyTorch</div>
                    </div>
                </div>

                <!-- 3. PROJECTS -->
                <div id="projects" class="tab-content" style="display: none;">
                    <h1>ENGINEERING_PROJECTS</h1>
                    <div class="data-grid">
                        <div class="data-card">
                            <strong>NEO_MATRIX_PORTFOLIO</strong>
                            <p style="font-size:0.8rem">HTML5 Canvas 个人终端。</p>
                        </div>
                        <div class="data-card">
                            <strong>GBA_EMULATOR_JS</strong>
                            <p style="font-size:0.8rem">Check /EXEC/FUN for details.</p>
                        </div>
                    </div>
                </div>

                <!-- 4. THOUGHTS -->
                <div id="thoughts" class="tab-content" style="display: none;">
                    <h1>LOGS & THOUGHTS</h1>
                    <div style="border: 1px solid var(--matrix-green); padding: 15px;">
                        <h3>:: 技术专栏 ::</h3>
                        <p>记录技术成长。</p>
                    </div>
                </div>

                <!-- 5. FUN (GBA GAME) -->
                <div id="fun" class="tab-content" style="display: none;">
                    <h1>SIMULATION_SANDBOX</h1>
                    <p>PROJECT: PORTABLE_CONSOLE_EMULATION [CSS3/JS/AudioAPI]</p>
                    <p style="color:#666; font-size: 0.8rem;">// CONTROLS: CLICK 'A' BUTTON TO ATTACK</p>
                    
                    <div class="gba-container">
                        <div class="gba-body">
                            <div class="gba-controls-left">
                                <div class="d-pad">
                                    <div class="d-pad-h"></div>
                                    <div class="d-pad-v"></div>
                                </div>
                                <div class="btn-meta btn-select"></div>
                            </div>
                            
                            <div class="gba-screen-cover">
                                <div class="gba-screen">
                                    <!-- 游戏内部 -->
                                    <div id="battle-scene">
                                        <div class="battle-stage">
                                            <!-- Enemy: Sprigatito (新叶喵) ID:906 -->
                                            <div class="hp-box" id="enemy-hp-box">
                                                <div>Sprigatito Lv.5</div>
                                                <div class="hp-bar"><div class="hp-fill" id="enemy-hp"></div></div>
                                            </div>
                                            <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/906.png" id="enemy-sprite" class="sprite" alt="Sprigatito">
                                            
                                            <!-- Player: Litten (火斑喵) ID:725 Back -->
                                            <div class="hp-box" id="player-hp-box">
                                                <div>Litten Lv.5</div>
                                                <div class="hp-bar"><div class="hp-fill" id="player-hp"></div></div>
                                                <div style="text-align:right; font-size:8px;">19/19</div>
                                            </div>
                                            <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/725.png" id="player-sprite" class="sprite" alt="Litten">
                                        </div>
                                        
                                        <div class="dialog-box">
                                            <div class="dialog-text" id="game-text">
                                                Wild Sprigatito appeared!<br>
                                                What will Litten do?
                                            </div>
                                            <div class="action-menu">
                                                <div class="menu-item selected">> EMBER</div>
                                                <div class="menu-item">  SCRATCH</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="gba-logo">GAME BOY <span>ADVANCE</span></div>
                            </div>

                            <div class="gba-controls-right">
                                <div class="btn-action btn-a" onclick="handleGameInput('A')">A</div>
                                <div class="btn-action btn-b" onclick="handleGameInput('B')">B</div>
                                <div class="btn-meta btn-start"></div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="sys-footer">
            SYSTEM_TIME: <span id="clock">00:00:00</span> // &copy; 2025 LINKYUW
        </div>
    </div>

    <script>
        // === 1. Tabs ===
        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            document.getElementById(tabId).style.display = 'block';
            event.currentTarget.classList.add('active');
        }

        // === 2. Clock ===
        setInterval(() => {
            document.getElementById('clock').innerText = new Date().toLocaleTimeString('en-GB');
        }, 1000);

        // === 3. Matrix Rain (Updated to English Only) ===
        const canvas = document.getElementById('matrix-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // 纯英文和数字
        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        const fontSize = 14;
        const columns = canvas.width / fontSize;
        const drops = [];

        for (let x = 0; x < columns; x++) { drops[x] = 1; }

        function draw() {
            ctx.fillStyle = 'rgba(5, 5, 5, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#0F0';
            ctx.font = fontSize + 'px monospace';

            for (let i = 0; i < drops.length; i++) {
                const text = chars.charAt(Math.floor(Math.random() * chars.length));
                ctx.fillStyle = (Math.random() > 0.9) ? '#fff' : '#0F0';
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                if (drops[i] * fontSize > canvas.height && Math.random() > 0.985) { drops[i] = 0; }
                drops[i]++;
            }
        }
        setInterval(draw, 50);
        window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });

        // === 4. GBA Game Logic ===
        let playerHp = 100;
        let enemyHp = 100;
        let turn = 'player'; // player, enemy, busy
        const log = document.getElementById('game-text');
        const eHpBar = document.getElementById('enemy-hp');
        const pHpBar = document.getElementById('player-hp');
        const eSprite = document.getElementById('enemy-sprite');
        const pSprite = document.getElementById('player-sprite');

        // Web Audio Context
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        const audioCtx = new AudioContext();

        function playTone(freq, type, duration) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = type;
            osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
            gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + duration);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + duration);
        }

        function handleGameInput(btn) {
            if (btn === 'A') {
                if (turn === 'player') {
                    playTone(440, 'square', 0.1); // Select sound
                    playerAttack();
                } else if (turn === 'end') {
                    resetGame();
                }
            } else if (btn === 'B') {
                playTone(200, 'sawtooth', 0.1); // Back sound
            }
        }

        function playerAttack() {
            turn = 'busy';
            log.innerHTML = "Litten used <br><b>EMBER!</b>";
            
            // Animation
            pSprite.style.transform = "translate(10px, -10px)";
            setTimeout(() => pSprite.style.transform = "translate(0,0)", 200);

            setTimeout(() => {
                // Damage
                playTone(150, 'sawtooth', 0.3); // Hit sound
                eSprite.style.animation = 'shake 0.5s';
                let dmg = Math.floor(Math.random() * 20) + 15;
                enemyHp = Math.max(0, enemyHp - dmg);
                eHpBar.style.width = enemyHp + "%";
                
                setTimeout(() => {
                    eSprite.style.animation = 'float 3s infinite ease-in-out'; // Reset anim
                    if (enemyHp <= 0) {
                        log.innerHTML = "Sprigatito fainted!<br><b>YOU WON!</b>";
                        playTone(600, 'square', 0.1);
                        setTimeout(() => playTone(800, 'square', 0.4), 150);
                        turn = 'end';
                    } else {
                        enemyTurn();
                    }
                }, 1000);
            }, 500);
        }

        function enemyTurn() {
            log.innerHTML = "Sprigatito used <br><b>LEAFAGE!</b>";
            turn = 'busy';
            
            setTimeout(() => {
                playTone(100, 'sawtooth', 0.3);
                pSprite.style.transform = "translate(-5px, 5px)"; // Hit anim
                setTimeout(() => pSprite.style.transform = "translate(0,0)", 200);

                let dmg = Math.floor(Math.random() * 15) + 5; // Fire resists Grass
                playerHp = Math.max(0, playerHp - dmg);
                pHpBar.style.width = playerHp + "%";
                
                if (playerHp <= 0) {
                    log.innerHTML = "Litten fainted...<br>You whited out.";
                    turn = 'end';
                } else {
                    turn = 'player';
                    setTimeout(() => {
                        log.innerHTML = "What will <br>Litten do?";
                    }, 1000);
                }
            }, 1000);
        }

        function resetGame() {
            playerHp = 100;
            enemyHp = 100;
            eHpBar.style.width = "100%";
            pHpBar.style.width = "100%";
            log.innerHTML = "Wild Sprigatito appeared!<br>What will Litten do?";
            turn = 'player';
        }
    </script>
</body>
</html>
